<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile</title>
    <link rel="stylesheet" href="profile.css" />
</head>
<body>
    <div class="container">
        <h1>Profile Page</h1>
        <form id="profile-form" enctype="multipart/form-data" method="POST">
            <fieldset>
                <legend>Profile Picture</legend>
                <label for="profile-pic" class="custom-file-upload">Upload Profile Picture:</label>
                <input type="file" id="profile-pic" name="profile_pic" accept="image/*" onchange="previewImage(event)" />
                <img id="profile-pic-preview" src="default-profile.jpg" alt="Preview Picture" style="display:none; width: 100px; height: 100px" />
            </fieldset>

            <fieldset>
                <legend>Personal Information</legend>

                <label for="username">User_id:</label>
                <input type="text" id="username" name="username" autocomplete="username" required />

                <label for="first-name">First Name:</label>
                <input type="text" id="first-name" name="first_name" autocomplete="given-name" required />

                <label for="last-name">Last Name:</label>
                <input type="text" id="last-name" name="last_name" autocomplete="family-name" required />

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" autocomplete="email" required />

                <label for="phone">Phone:</label>
                <input type="tel" id="phone" name="phone" autocomplete="tel" required />

                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" autocomplete="bday" />

                <label for="gender">Gender:</label>
                <select id="gender" name="gender" autocomplete="sex">
                    <option value="">Select...</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>

                <label for="bio">Bio:</label>
                <textarea id="bio" name="bio" autocomplete="off"></textarea>
            </fieldset>

            <button type="submit">Save Profile</button>
            <p id="message"></p>
        </form>
    </div>
    <script src="profile.js"></script>
    <script>
        function previewImage(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('profile-pic-preview');
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            } else {
                preview.src = 'default-profile.jpg';
                preview.style.display = 'none';
            }
        }
    </script>
</body>
</html>
